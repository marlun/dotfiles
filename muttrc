# Load default account and setup folder hooks for loading specific config files
source ~/.config/mutt/work/conf
folder-hook "~/.mail/Personal" "source ~/.config/mutt/personal/conf"
folder-hook "~/.mail/Work" "source ~/.config/mutt/work/conf"

# Load mailboxes conf generated by offlineimap
source ~/.config/mutt/mailboxes

# Cache folders, using these will speed up mutt
set header_cache = $XDG_CACHE_HOME/mutt
set message_cachedir = $XDG_CACHE_HOME/mutt
set tmpdir = $XDG_CACHE_HOME/mutt

# Options
unset help                        # remove top help bar
unset markers                     # don't add markers on wrapped lines
unset confirmappend               # don't ask just move
unset wait_key                    # skip message when return code is 0
unset mark_old                    # don't mark mails as old, don't use it
set fast_reply                    # don't ask just reply
set include                       # include message replied to
set pager_stop                    # don't move to next mail
set pager_index_lines = 6         # show mini index in pager
set delete                        # delete when I delete dammit
set move                          # move read mail to archive
set keep_flagged                  # don't move flagged mail to archive
set realname = "Martin Lundberg"
set wrap = 78
set sort = threads

# Remove pesky trailing whitespaces from mail
set editor="vim +FixWhitespace"

# Remove number column from default format and add weekday and time
set index_format = "%Z %{%a %b %d %R} %-15.15L (%?l?%4l&%4c?) %s"

# Auto view HTML inside mutt pager but prefer text
auto_view text/html
alternative_order text/plain text/html

# Keybindings
bind pager k previous-line
bind pager j next-line
bind pager,index \cu half-up
bind pager,index \cd half-down

# Theme (color <object> <foreground> <background> [pattern])
color normal color250 color16           # default colors
color status white color26              # status bars
color indicator color16 color220        # selected item
color prompt default default            # command prompt
color message default default           # mutt messages
color error color231 color196           # mutt errors
color hdrdefault color241 default       # mail headers
color attachment color232 green         # attachment bars
color markers blue default              # wrapped line markers
color tree blue default                 # wrapped line markers
color index red default ~F              # flagged mail
color index brightgreen default ~N      # new mail
color index green default ~O            # new mail
color index color16 cyan ~T             # tagged mail
color index color231 color196 ~D        # deleted mail
color header cyan default "^Subject:"   # highlight subject
color quoted cyan default               # first level quotes
color quoted1 blue default              # second level quotes

# Show mutt version on start
push V
